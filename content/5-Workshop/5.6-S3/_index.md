---
title: "Set up S3"
date: "2025-12-09"
weight: 6
chapter: false
pre: " <b> 5.6. </b> "
---
# WORKLOG: S3 ORIGIN CONFIGURATION (FULL)

This Worklog outlines the steps for creating and configuring two (02) separate Amazon S3 Buckets, serving as the **Origins** for different system resources: Frontend Code and user-uploaded files.

## 1. S3 Bucket 1 Configuration: `taskhub-frontend-prod` (Frontend Origin)

This Bucket serves as the **Origin** for CloudFront, storing Frontend code (HTML, CSS, JS) and static assets.

### 1.1. Access and Bucket Creation
1. Log in to the AWS Console, find and select the **Amazon S3** service.
2. Click the **"Create bucket"** button.

![anh1](/images/5-Workshop/5.6-S3/image1.png)

3. Fill in the general configuration information:

![anh2](/images/5-Workshop/5.6-S3/image2.png)

| Configuration   | Value                                     | Explanation                                                                     |
| :-------------- | :---------------------------------------- | :------------------------------------------------------------------------------ |
| **Bucket name** | `taskhub-frontend-prod`                   | The Bucket name must be **globally unique**.                                    |
| **AWS Region**  | `Asia Pacific (Singapore) ap-southeast-1` | Select the geographical region closest to the target users to optimize latency. |

---

### 1.2. Object Ownership & Public Access Configuration

![anh3](/images/5-Workshop/5.6-S3/image3.png)

1. **Object Ownership:** Select **ACLs disabled (recommended)**.
    * **Purpose:** Access permissions are managed centrally using a **Bucket Policy**, simplifying management.
2. **Block Public Access settings for this bucket:**
    * **Action:** **Uncheck** **[ ] Block all public access** (and all sub-options).
    * **Reason:** This allows us to configure a **Bucket Policy** later to grant **read-only access specifically to CloudFront OAC** (Origin Access Control), ensuring S3 can function as a valid private Origin.

---

### 1.3. Versioning and Encryption Configuration

![anh4](/images/5-Workshop/5.6-S3/image4.png)

| Configuration          | Value                                                                   | Explanation                                                                             |
| :--------------------- | :---------------------------------------------------------------------- | :-------------------------------------------------------------------------------------- |
| **Bucket Versioning**  | Select: **Disable**                                                     | Reduces Storage Costs as maintaining multiple versions of Frontend code is unnecessary. |
| **Default encryption** | **Enable**                                                              | Ensures data is encrypted when stored (at rest).                                        |
| **Encryption type**    | Select: **Server-side encryption with Amazon S3 managed keys (SSE-S3)** | The default, cost-effective encryption method.                                          |
| **Bucket Key**         | Select: **Enable**                                                      | Minimizes Request Costs related to the encryption/decryption process.                   |

---

## 2. S3 Bucket 2 Configuration: `taskhub-files-prod` (User Files Storage)

This Bucket is used to store files uploaded by users (images, media...). **Maximum security is prioritized.**
The creation process is similar to the S3 Bucket above.

![anh5](/images/5-Workshop/5.6-S3/image5.png)
![anh6](/images/5-Workshop/5.6-S3/image6.png)

### 2.1. Access and Bucket Creation
1. Repeat the Bucket creation steps (Section 1.1).
2. **Bucket name:** `taskhub-files-prod`
3. **AWS Region:** `Asia Pacific (Singapore) ap-southeast-1`

---
### 2.2. Public Access Configuration (SECURITY DIFFERENCE)
- **Block Public Access settings for this bucket:** Keep **[X] Block all public access** **(CHECK ALL)**.
- **Reason:** This is a **Secure Bucket** containing user data. Files **MUST NOT** be publicly accessible. Access will only be temporarily granted via **Pre-signed URLs** generated by the Backend API after authentication.

---

### 2.3. Versioning and Encryption Configuration (Similar)

| Configuration          | Value                                                                   | Explanation                                                           |
| :--------------------- | :---------------------------------------------------------------------- | :-------------------------------------------------------------------- |
| **Bucket Versioning**  | Select: **Disable**                                                     | Prevents rapid storage cost increases when users update/delete files. |
| **Default encryption** | **Enable**                                                              | Data encryption is mandatory for user data.                           |
| **Encryption type**    | Select: **Server-side encryption with Amazon S3 managed keys (SSE-S3)** | Standard S3 encryption.                                               |
| **Bucket Key**         | Select: **Enable**                                                      | Reduces encryption request costs.                                     |
