<!doctype html><html lang=vi class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.134.3"><meta name=description content><meta name=author content="thienlh@thienlu.com"><link rel=icon href=../../../images/favicon.png type=image/png><title>Blog 2 :: Báo cáo thực tập</title>
<link href=../../../css/nucleus.css?1765357123 rel=stylesheet><link href=../../../css/fontawesome-all.min.css?1765357123 rel=stylesheet><link href=../../../css/hybrid.css?1765357123 rel=stylesheet><link href=../../../css/featherlight.min.css?1765357123 rel=stylesheet><link href=../../../css/perfect-scrollbar.min.css?1765357123 rel=stylesheet><link href=../../../css/auto-complete.css?1765357123 rel=stylesheet><link href=../../../css/atom-one-dark-reasonable.css?1765357123 rel=stylesheet><link href=../../../css/theme.css?1765357123 rel=stylesheet><link href=../../../css/hugo-theme.css?1765357123 rel=stylesheet><link href=../../../css/theme-workshop.css?1765357123 rel=stylesheet><script src=../../../js/jquery-3.3.1.min.js?1765357123></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=../../../vi/3-blogstranslated/3.2-blog2/><nav id=sidebar class=showVisitedLinks><div id=header-wrapper><div id=header><a id=logo href=../../../><svg id="Layer_1" data-name="Layer 1" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff}.cls-2{fill:#f90;fill-rule:evenodd}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09 10.85a4.7 4.7.0 00.19 1.48 7.73 7.73.0 00.54 1.19.77.77.0 01.12.38.64.64.0 01-.32.49l-1 .7a.83.83.0 01-.44.15.69.69.0 01-.49-.23 3.8 3.8.0 01-.6-.77q-.25-.42-.51-1a6.14 6.14.0 01-4.89 2.3 4.54 4.54.0 01-3.32-1.19 4.27 4.27.0 01-1.22-3.2 4.28 4.28.0 011.46-3.4A6.06 6.06.0 017.69 6.46a12.47 12.47.0 011.76.13q.92.13 1.91.36V5.73a3.65 3.65.0 00-.79-2.66A3.81 3.81.0 007.86 2.3a7.71 7.71.0 00-1.79.22 12.78 12.78.0 00-1.79.57 4.55 4.55.0 01-.58.22h-.26q-.35.0-.35-.52V2a1.09 1.09.0 01.12-.58 1.2 1.2.0 01.47-.35A10.88 10.88.0 015.77.32 10.19 10.19.0 018.36.0a6 6 0 014.35 1.35 5.49 5.49.0 011.38 4.09zM7.34 13.38a5.36 5.36.0 001.72-.31A3.63 3.63.0 0010.63 12 2.62 2.62.0 0011.19 11a5.63 5.63.0 00.16-1.44v-.7a14.35 14.35.0 00-1.53-.28 12.37 12.37.0 00-1.56-.1 3.84 3.84.0 00-2.47.67A2.34 2.34.0 005 11a2.35 2.35.0 00.61 1.76A2.4 2.4.0 007.34 13.38zm13.35 1.8a1 1 0 01-.64-.16 1.3 1.3.0 01-.35-.65L15.81 1.51a3 3 0 01-.15-.67.36.36.0 01.41-.41H17.7a1 1 0 01.65.16 1.4 1.4.0 01.33.65l2.79 11 2.59-11A1.17 1.17.0 0124.39.6a1.1 1.1.0 01.67-.16H26.4a1.1 1.1.0 01.67.16 1.17 1.17.0 01.32.65L30 12.39 32.88 1.25A1.39 1.39.0 0133.22.6a1 1 0 01.65-.16h1.54a.36.36.0 01.41.41 1.36 1.36.0 010 .26 3.64 3.64.0 01-.12.41l-4 12.86a1.3 1.3.0 01-.35.65 1 1 0 01-.64.16H29.25a1 1 0 01-.67-.17 1.26 1.26.0 01-.32-.67L25.67 3.64l-2.56 10.7a1.26 1.26.0 01-.32.67 1 1 0 01-.67.17zm21.36.44a11.28 11.28.0 01-2.56-.29 7.44 7.44.0 01-1.92-.67 1 1 0 01-.61-.93v-.84q0-.52.38-.52a.9.9.0 01.31.06l.42.17a8.77 8.77.0 001.83.58 9.78 9.78.0 002 .2 4.48 4.48.0 002.43-.55 1.76 1.76.0 00.86-1.57 1.61 1.61.0 00-.45-1.16A4.29 4.29.0 0043 9.22l-2.41-.76A5.15 5.15.0 0138 6.78a3.94 3.94.0 01-.83-2.41 3.7 3.7.0 01.45-1.85 4.47 4.47.0 011.19-1.37 5.27 5.27.0 011.7-.86A7.4 7.4.0 0142.6.0a8.87 8.87.0 011.12.07q.57.07 1.08.19t.95.26a4.27 4.27.0 01.7.29 1.59 1.59.0 01.49.41.94.94.0 01.15.55v.79q0 .52-.38.52a1.76 1.76.0 01-.64-.2 7.74 7.74.0 00-3.2-.64 4.37 4.37.0 00-2.21.47 1.6 1.6.0 00-.79 1.48 1.58 1.58.0 00.49 1.18 4.94 4.94.0 001.83.92L44.55 7a5.08 5.08.0 012.57 1.6A3.76 3.76.0 0147.9 11a4.21 4.21.0 01-.44 1.93 4.4 4.4.0 01-1.21 1.47 5.43 5.43.0 01-1.85.93A8.25 8.25.0 0142.05 15.62z"/><path class="cls-2" d="M45.19 23.81C39.72 27.85 31.78 30 25 30A36.64 36.64.0 01.22 20.57c-.51-.46-.06-1.09.56-.74A49.78 49.78.0 0025.53 26.4 49.23 49.23.0 0044.4 22.53C45.32 22.14 46.1 23.14 45.19 23.81z"/><path class="cls-2" d="M47.47 21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74 3.13-2.2 8.27-1.57 8.86-.83s-.16 5.89-3.09 8.35c-.45.38-.88.18-.68-.32C46.69 25.8 48.17 22.11 47.47 21.21z"/></svg></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=../../../js/lunr.min.js?1765357123></script><script type=text/javascript src=../../../js/auto-complete.js?1765357123></script><script type=text/javascript>var baseurl="https://tuananh3232.github.io/aws_intership//vi"</script><script type=text/javascript src=../../../js/search.js?1765357123></script></div><div class=highlightable><ul class=topics><li data-nav-id=/vi/1-worklog/ title="Nhật ký công việc" class=dd-item><a href=../../../vi/1-worklog/><b>1. </b>Nhật ký công việc
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/1-worklog/1.1-week1/ title="Worklog Tuần 1" class=dd-item><a href=../../../vi/1-worklog/1.1-week1/><b>1.1. </b>Worklog Tuần 1
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.2-week2/ title="Worklog Tuần 2" class=dd-item><a href=../../../vi/1-worklog/1.2-week2/><b>1.2. </b>Worklog Tuần 2
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.3-week3/ title="Worklog Tuần 3" class=dd-item><a href=../../../vi/1-worklog/1.3-week3/><b>1.3. </b>Worklog Tuần 3
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.4-week4/ title="Worklog Tuần 4" class=dd-item><a href=../../../vi/1-worklog/1.4-week4/><b>1.4. </b>Worklog Tuần 4
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.5-week5/ title="Worklog Tuần 5" class=dd-item><a href=../../../vi/1-worklog/1.5-week5/><b>1.5. </b>Worklog Tuần 5
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.6-week6/ title="Worklog Tuần 6" class=dd-item><a href=../../../vi/1-worklog/1.6-week6/><b>1.6. </b>Worklog Tuần 6
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.7-week7/ title="Worklog Tuần 7" class=dd-item><a href=../../../vi/1-worklog/1.7-week7/><b>1.7. </b>Worklog Tuần 7
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.8-week8/ title="Worklog Tuần 8" class=dd-item><a href=../../../vi/1-worklog/1.8-week8/><b>1.8. </b>Worklog Tuần 8
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.9-week9/ title="Worklog Tuần 9" class=dd-item><a href=../../../vi/1-worklog/1.9-week9/><b>1.9. </b>Worklog Tuần 9
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.10-week10/ title="Worklog Tuần 10" class=dd-item><a href=../../../vi/1-worklog/1.10-week10/><b>1.10. </b>Worklog Tuần 10
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.11-week11/ title="Worklog Tuần 11" class=dd-item><a href=../../../vi/1-worklog/1.11-week11/><b>1.11. </b>Worklog Tuần 11
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.12-week12/ title="Worklog Tuần 12" class=dd-item><a href=../../../vi/1-worklog/1.12-week12/><b>1.12. </b>Worklog Tuần 12
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/2-proposal/ title="Bản đề xuất" class=dd-item><a href=../../../vi/2-proposal/><b>2. </b>Bản đề xuất
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/3-blogstranslated/ title="Các bài blogs đã dịch" class="dd-item
parent"><a href=../../../vi/3-blogstranslated/><b>3. </b>Các bài blogs đã dịch
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/3-blogstranslated/3.1-blog1/ title="Blog 1" class=dd-item><a href=../../../vi/3-blogstranslated/3.1-blog1/><b>3.1. </b>Blog 1
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/3-blogstranslated/3.2-blog2/ title="Blog 2" class="dd-item
active"><a href=../../../vi/3-blogstranslated/3.2-blog2/><b>3.2. </b>Blog 2
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/3-blogstranslated/3.3-blog3/ title="Blog 3" class=dd-item><a href=../../../vi/3-blogstranslated/3.3-blog3/><b>3.3. </b>Blog 3
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/4-eventparticipated/ title="Các events đã tham gia" class=dd-item><a href=../../../vi/4-eventparticipated/><b>4. </b>Các events đã tham gia
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/4-eventparticipated/4.1-event1/ title="Event 1" class=dd-item><a href=../../../vi/4-eventparticipated/4.1-event1/><b>4.1. </b>Event 1
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/4-eventparticipated/4.2-event2/ title="Event 2" class=dd-item><a href=../../../vi/4-eventparticipated/4.2-event2/><b>4.2. </b>Event 2
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/4-eventparticipated/4.3-event3/ title="Event 3" class=dd-item><a href=../../../vi/4-eventparticipated/4.3-event3/><b>4.3. </b>Event 3
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/4-eventparticipated/4.4-event4/ title="Event 4" class=dd-item><a href=../../../vi/4-eventparticipated/4.4-event4/><b>4.4. </b>Event 4
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/4-eventparticipated/4.5-event5/ title="Event 5" class=dd-item><a href=../../../vi/4-eventparticipated/4.5-event5/><b>4.5. </b>Event 5
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/5-workshop/ title=Workshop class=dd-item><a href=../../../vi/5-workshop/><b>5. </b>Workshop
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/5-workshop/5.1-workshop-overview/ title="Giới thiệu" class=dd-item><a href=../../../vi/5-workshop/5.1-workshop-overview/><b>5.1. </b>Giới thiệu
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.2-prerequiste/ title="Các bước chuẩn bị" class=dd-item><a href=../../../vi/5-workshop/5.2-prerequiste/><b>5.2. </b>Các bước chuẩn bị
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.3-lambda/ title=Lambda class=dd-item><a href=../../../vi/5-workshop/5.3-lambda/><b>5.3 </b>Lambda
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.4-apigateway/ title="API Gateway" class=dd-item><a href=../../../vi/5-workshop/5.4-apigateway/><b>5.4 </b>API Gateway
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.6-s3/ title="Khởi tạo S3" class=dd-item><a href=../../../vi/5-workshop/5.6-s3/><b>5.6. </b>Khởi tạo S3
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.7-cloudfront/ title="Khởi tạo CloudFront" class=dd-item><a href=../../../vi/5-workshop/5.7-cloudfront/><b>5.7. </b>Khởi tạo CloudFront
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.8-cognito/ title="Thiết lập AWS Cognito Authentication" class=dd-item><a href=../../../vi/5-workshop/5.8-cognito/><b>5.8. </b>Thiết lập AWS Cognito Authentication
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/5-workshop/5.8-cognito/5.8.1-create-user-pool/ title="Tạo Cognito User Pool" class=dd-item><a href=../../../vi/5-workshop/5.8-cognito/5.8.1-create-user-pool/><b>5.8.1. </b>Tạo Cognito User Pool
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.8-cognito/5.8.2-password-policies/ title="Cấu hình Password Policies" class=dd-item><a href=../../../vi/5-workshop/5.8-cognito/5.8.2-password-policies/><b>5.8.2. </b>Cấu hình Password Policies
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.8-cognito/5.8.3-email-verification/ title="Thiết lập Email Verification" class=dd-item><a href=../../../vi/5-workshop/5.8-cognito/5.8.3-email-verification/><b>5.8.3. </b>Thiết lập Email Verification
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.8-cognito/5.8.4-app-client/ title="Cấu hình App Client" class=dd-item><a href=../../../vi/5-workshop/5.8-cognito/5.8.4-app-client/><b>5.8.4. </b>Cấu hình App Client
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/5-workshop/5.9-keymanagementservice/ title="Thiếp lập KMS" class=dd-item><a href=../../../vi/5-workshop/5.9-keymanagementservice/><b>5.9. </b>Thiếp lập KMS
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.17-secretmanager/ title="Cấu hình AWS Secrets Manager" class=dd-item><a href=../../../vi/5-workshop/5.17-secretmanager/><b>5.17. </b>Cấu hình AWS Secrets Manager
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.18-waf/ title="Cấu hình Web ACL" class=dd-item><a href=../../../vi/5-workshop/5.18-waf/><b>5.18. </b>Cấu hình Web ACL
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/6-self-evaluation/ title="Tự đánh giá" class=dd-item><a href=../../../vi/6-self-evaluation/><b>6. </b>Tự đánh giá
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/7-feedback/ title="Chia sẻ, đóng góp ý kiến" class=dd-item><a href=../../../vi/7-feedback/><b>7. </b>Chia sẻ, đóng góp ý kiến
<i class="fas fa-check read-icon"></i></a></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://www.facebook.com/groups/awsstudygroupfcj/><i class='fab fa-facebook'></i> AWS Study Group</a></li></ul></section><section id=prefooter><hr><ul><li><a class=padding><i class="fas fa-language fa-fw"></i><div class=select-style><select id=select-language onchange="location=this.value"><option id=en value=https://tuananh3232.github.io/aws_intership/3-blogstranslated/3.2-blog2/>English</option><option id=vi value=https://tuananh3232.github.io/aws_intership/vi/3-blogstranslated/3.2-blog2/ selected>Tiếng Việt</option></select><svg id="Capa_1" xmlns:xlink="http://www.w3.org/1999/xlink" width="255" height="255" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255"><g><g id="arrow-drop-down"><polygon points="0,63.75 127.5,191.25 255,63.75"/></g></g></svg></div></a></li><li><a class=padding href=# data-clear-history-toggle><i class="fas fa-history fa-fw"></i> Clear History</a></li></ul></section><section id=footer><left><b>Workshop</b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0" title=Migrate alt="web counter" border=0></a><br><b><a href=https://cloudjourney.awsstudygroup.com/>Cloud Journey</a></b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" alt="web counter" border=0>
</left><left><br><br><b>Last Updated</b><br><i><span id=lastUpdated style=color:orange></span>
</i><script>const today=new Date,formattedDate=today.toLocaleDateString("en-GB");document.getElementById("lastUpdated").textContent=formattedDate</script></left><left><br><br><b>Team</b><br><i><a href=https://www.facebook.com/groups/660548818043427 style=color:orange>First Cloud Journey</a><br></i></left><script async defer src=https://buttons.github.io/buttons.js></script></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i>
</a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=../../../vi/>Báo cáo thực tập</a> > <a href=../../../vi/3-blogstranslated/>Các bài blogs đã dịch</a> > Blog 2</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#ứng-dụng-container-đồng-bộ>Ứng dụng container đồng bộ</a></li><li><a href=#thách-thức-với-kiến-trúc-đồng-bộ>Thách thức với kiến trúc đồng bộ</a></li><li><a href=#lợi-ích-của-việc-sử-dụng-lambda-container-image-support>Lợi ích của việc sử dụng Lambda Container Image Support</a></li><li><a href=#mở-rộng-với-sự-kiện-bất-đồng-bộ>Mở rộng với sự kiện bất đồng bộ</a></li><li><a href=#tích-hợp-với-nhiều-điểm-đến>Tích hợp với nhiều điểm đến</a></li><li><a href=#các-cân-nhắc-khi-thiết-kế>Các cân nhắc khi thiết kế</a></li><li><a href=#kết-luận>Kết luận</a></li><li><a href=#về-tác-giả>Về tác giả</a></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Blog 2</h1><h1 id=mở-rộng-quy-mô-scaling-container-phân-tích-dữ-liệu-bằng-hàm-aws-lambda-dựa-trên-sự-kiện>Mở rộng quy mô (Scaling) Container Phân tích Dữ liệu bằng Hàm AWS Lambda dựa trên sự kiện</h1><p>Tác giả: Brian Maguire, Guy Bachar, and Mike Boyar</p><p>Ngày đăng: ngày 30 tháng 8, 2021</p><p>Danh mục: <strong><a href=https://aws.amazon.com/vi/blogs/architecture/category/application-services/amazon-api-gateway-application-services/>Amazon API Gateway</a></strong>, <strong><a href=https://aws.amazon.com/vi/blogs/architecture/category/compute/amazon-ec2/>Amazon EC2</a></strong>, <strong><a href=https://aws.amazon.com/vi/blogs/architecture/category/compute/amazon-elastic-container-service/>Amazon Elastic Container Service</a></strong>, <strong><a href=https://aws.amazon.com/vi/blogs/architecture/category/analytics/>Analytics</a></strong>, <strong><a href=https://aws.amazon.com/vi/blogs/architecture/category/architecture/>Architecture</a></strong>, <strong><a href=https://aws.amazon.com/vi/blogs/architecture/category/compute/aws-elastic-beanstalk/>AWS Elastic Beanstalk</a></strong>, <strong><a href=https://aws.amazon.com/vi/blogs/architecture/category/learning-levels/intermediate-200/>Intermediate (200)</a></strong>, <strong><a href=https://aws.amazon.com/vi/blogs/architecture/category/industries/manufacturing/>Manufacturing</a></strong></p><p>Ngành tiếp thị thu thập và sử dụng dữ liệu từ nhiều giai đoạn khác nhau trong hành trình của khách hàng. Khi phân tích dữ liệu này, họ thiết lập các chỉ số (metrics) và phát triển các thông tin chi tiết có thể hành động (actionable insights), sau đó được sử dụng để đầu tư vào khách hàng và tạo ra doanh thu.</p><p>Nếu bạn là một nhà khoa học dữ liệu hoặc nhà phát triển trong lĩnh vực tiếp thị, bạn có thể thường xuyên sử dụng các containers cho các dịch vụ như thu thập và chuẩn bị dữ liệu, phát triển mô hình machine learning, và thực hiện phân tích thống kê. Do loại và khối lượng dữ liệu tiếp thị được thu thập ngày càng tăng nhanh, bạn sẽ cần một giải pháp để quản lý quy mô (scale), chi phí (costs), và số lượng tích hợp phân tích dữ liệu (data analytics integrations) cần thiết.</p><p>Trong bài viết này, chúng tôi cung cấp một giải pháp có thể hoạt động và mở rộng với lưu lượng động và được tối ưu hóa chi phí cho việc tiêu thụ theo nhu cầu. Giải pháp này sử dụng các ứng dụng khoa học dữ liệu dựa trên container đồng bộ (synchronous container-based) được triển khai với các kiến trúc dựa trên container bất đồng bộ (asynchronous container-based architectures) trên <strong><a href=https://aws.amazon.com/vi/lambda/>AWS Lambda</a></strong>. Kiến trúc serverless này tự động hóa các quy trình công việc phân tích dữ liệu (data analytics workflows) bằng cách sử dụng các prompts dựa trên sự kiện (event-based prompts).</p><h2 id=ứng-dụng-container-đồng-bộ>Ứng dụng container đồng bộ</h2><p>Các ứng dụng khoa học dữ liệu (data science applications) thường được triển khai tới các container instance chuyên dụng (dedicated container instances), và các yêu cầu của chúng được định tuyến bởi Amazon API Gateway hoặc một bộ cân bằng tải (load balancer). Thông thường, Amazon API Gateway định tuyến các yêu cầu HTTP như các lần gọi đồng bộ tới các container host dựa trên instance.</p><p>Mục tiêu của các yêu cầu này là một ứng dụng dựa trên container chạy dịch vụ machine learning (SciLearn). Service container được cấu hình với các dependency packages cần thiết như <strong><a href=http://c/Users/mccbonni/AppData/Local/Temp/scikit-learn.org>scikit-learn</a></strong>, <strong><a href=http://c/Users/mccbonni/AppData/Local/Temp/pandas.pydata.org>pandas</a></strong>, <strong><a href=https://numpy.org/>NumPy</a></strong> và <strong><a href=https://scipy.org/>SciPy</a></strong>.</p><p>Các container thường được triển khai trên các mục tiêu (targets) khác nhau như tại chỗ (on-premises), <strong><a href=https://aws.amazon.com/vi/ecs/>Amazon Elastic Container Service (Amazon ECS)</a></strong>, <strong><a href=https://aws.amazon.com/vi/ec2/>Amazon Elastic Compute Cloud (Amazon EC2)</a></strong> và <strong><a href=https://aws.amazon.com/vi/elasticbeanstalk/>AWS Elastic Beanstalk</a></strong>. ác dịch vụ này chạy đồng bộ (synchronously) và mở rộng quy mô (scale) thông qua các nhóm <strong><a href=https://aws.amazon.com/vi/autoscaling/>Amazon Auto Scaling groups</a></strong> của Amazon và một mô hình định giá tiêu thụ dựa trên thời gian (time-based consumption pricing model).</p><p><img alt="Sơ đồ ứng dụng container đồng bộ" src=../../../images/blog2/Lambdasync.png>
Figure 1. Sơ đồ ứng dụng container đồng bộ</p><h2 id=thách-thức-với-kiến-trúc-đồng-bộ>Thách thức với kiến trúc đồng bộ</h2><p>Khi sử dụng kiến trúc đồng bộ, bạn có thể gặp một số thách thức liên quan đến khả năng mở rộng, hiệu năng và chi phí:</p><ul><li><p><strong>Chặn hoạt động</strong>: Bên gửi không tiếp tục cho đến khi Lambda trả về, và việc xử lý lỗi (failure processing), chẳng hạn như thử lại (retries), phải được xử lý bởi bên gửi.</p></li><li><p><strong>Không tích hợp gốc (native) với dịch vụ AWS</strong>: không thể sử dụng nhiều tích hợp gốc với các dịch vụ AWS khác như <strong><a href=https://aws.amazon.com/vi/s3/>Amazon Simple Storage Service (Amazon S3)</a></strong>, <strong><a href=https://aws.amazon.com/vi/eventbridge/>Amazon EventBridge</a></strong> và <strong><a href=https://aws.amazon.com/vi/sqs/>Amazon Simple Queue Service (Amazon SQS)</a></strong>.</p></li><li><p><strong>Chi phí tăng</strong>: môi trường hoạt động 24/7 có thể làm tăng chi phí nếu tài nguyên nhàn rỗi (idle), không được định cỡ phù hợp và không thể tự động mở rộng.</p></li></ul><p>Bài viết <strong><a href=https://aws.amazon.com/vi/blogs/aws/new-for-aws-lambda-container-image-support/>“New for AWS Lambda – Container Image Support”</a></strong> giới thiệu một kiến trúc serverless dựa trên sự kiện (serverless, event-based architecture) để giải quyết các thách thức này.</p><h2 id=lợi-ích-của-việc-sử-dụng-lambda-container-image-support>Lợi ích của việc sử dụng Lambda Container Image Support</h2><p>Trong giải pháp của chúng tôi, chúng tôi đã tái cấu trúc (refactored) ứng dụng SciLearn đồng bộ (synchronous) vốn được triển khai trên các host dựa trên instance (instance-based hosts) thành một ứng dụng bất đồng bộ dựa trên sự kiện (asynchronous event-based application) chạy trên Lambda. Giải pháp này mang lại các lợi ích sau:</p><ul><li><p><strong>Quản lý dependencies dễ dàng hơn với Dockerfile</strong>: Dockerfile cho phép bạn cài đặt các gói hệ điều hành gốc (native operating system packages) và các dependencies tương thích ngôn ngữ (language-compatible dependencies) hoặc sử dụng các container image sẵn sàng cho doanh nghiệp (enterprise-ready container images).</p></li><li><p><strong>Công cụ tương tự</strong>: cả hai giải pháp đồng bộ và bất đồng bộ đều sử dụng <strong><a href=https://aws.amazon.com/vi/ecr/>Amazon Elastic Container Registry (Amazon ECR)</a></strong> để lưu trữ các tệp tạo tác ứng dụng (application artifacts). Do đó, cả hai đều sử dụng cùng các công cụ đường ống xây dựng và triển khai (build and deployment pipeline) để kiểm tra Dockerfile, giúp nhóm của bạn ít tốn thời gian và công sức học công cụ mới hơn.</p></li><li><p><strong>Hiệu năng và chi phí</strong>: Lambda cung cấp khả năng mở rộng tự động trong vòng dưới một giây (sub-second autoscaling) phù hợp với nhu cầu. Điều này mang lại tính khả dụng (availability) cao hơn, chi phí vận hành thấp hơn và hiệu quả chi phí (cost efficiency).</p></li><li><p><strong>Tích hợp</strong>: AWS cung cấp hơn 200 tích hợp dịch vụ (service integrations) để triển khai các hàm (functions) dưới dạng container image trên Lambda mà không cần tự phát triển, giúp triển khai nhanh hơn.</p></li><li><p><strong>Artifact ứng dụng lớn hơn, lên đến 10 GB</strong>: Điều này bao gồm hỗ trợ dependency ứng dụng lớn hơn (larger application dependency support), cho bạn nhiều không gian hơn để lưu trữ file và gói so với giới hạn cứng là 250 MB đối với file đã giải nén cho các gói triển khai (deployment packages).</p></li></ul><h2 id=mở-rộng-với-sự-kiện-bất-đồng-bộ>Mở rộng với sự kiện bất đồng bộ</h2><p>AWS cung cấp hai cách để mở rộng xử lý bất đồng bộ độc lập và tự động: <strong><a href=https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/concepts-worker.html>Elastic Beanstalk worker environments</a></strong> và lời gọi <strong><a href=https://docs.aws.amazon.com/lambda/latest/dg/invocation-async.html>bất đồng bộ (asynchronous invocation)</a></strong> với Lambda. Cả hai tùy chọn đều cung cấp các tính năng sau:</p><ul><li><p>Chúng đưa các sự kiện vào SQS queue</p></li><li><p>Chúng có thể được thiết kế để chỉ lấy các item từ queue khi có đủ sức chứa để xử lý tác vụ. Điều này giúp ngăn chúng bị quá tải.</p></li><li><p>Chúng giảm tải (offload) các tác vụ khỏi một thành phần của ứng dụng sang queue và xử lý chúng một cách bất đồng bộ.</p></li></ul><p>Các lời gọi bất đồng bộ (asynchronous invocations) này bổ sung các cơ chế xử lý lỗi (failure processing) và thử lại (retry mechanisms) mặc định, có thể điều chỉnh (tunable) thông qua các điểm đến sự kiện (event destinations) “on failure” và “on success”, như được mô tả trong phần tiếp theo.</p><h2 id=tích-hợp-với-nhiều-điểm-đến>Tích hợp với nhiều điểm đến</h2><p>Các sự kiện “on failure” và “on success” có thể được ghi vào SQS queue, <strong><a href=https://aws.amazon.com/vi/sns/>Amazon Simple Notification Service (Amazon SNS)</a></strong> topic, EventBridge event bus hoặc một Lambda function khác. Cả bốn đều được tích hợp với hầu hết các AWS services.</p><p>Các sự kiện “on failure” được gửi đến một hàng đợi SQS dead-letter (SQS dead-letter queue) vì chúng không thể được chuyển đến các hàng đợi đích (destination queues). Chúng sẽ được xử lý lại khi cần thiết, và bất kỳ vấn đề nào trong quá trình xử lý message sẽ được cô lập.</p><p>Hình 2 mô tả một Amazon API Gateway bất đồng bộ đặt một HTTP request dưới dạng một message vào SQS queue, qua đó tách rời (decoupling) các thành phần (components).</p><p>Các tin nhắn (messages) trong SQS queue sau đó kích hoạt một Lambda function. Function này chạy container dịch vụ machine learning SciLearn trong Lambda cho các quy trình công việc phân tích dữ liệu (data analysis workflows), vốn được tích hợp với một SQS dead-letter queue khác để xử lý lỗi (failures processing).</p><p><img alt="Sơ đồ ví dụ các ứng dụng container dựa trên bất đồng bộ" src=../../../images/blog2/Async.png>
Hình 2. Sơ đồ ví dụ các ứng dụng container dựa trên bất đồng bộ</p><p>Khi bạn triển khai các Lambda functions dưới dạng container images, chúng được hưởng lợi từ cùng sự đơn giản trong vận hành (operational simplicity), khả năng mở rộng tự động (automatic scaling), tính khả dụng cao (high availability), và các tích hợp gốc (native integrations). Điều này làm cho kiến trúc này trở nên hấp dẫn cho các trường hợp sử dụng phân tích dữ liệu của chúng tôi.</p><h2 id=các-cân-nhắc-khi-thiết-kế>Các cân nhắc khi thiết kế</h2><p>Khi triển khai Docker Container Images với Lambda, cần xem xét:</p><ul><li><p>Lambda hỗ trợ các container image có tệp kê khai (manifest files) tuân theo các định dạng sau:</p><p><span style=font-size:1rem>+ Docker image manifest V2, schema 2 (Docker version 1.10 trở lên)</span></p><p><span style=font-size:1rem>+ Open Container Initiative (OCI) specifications (v1.0.0 trở lên)</span></p></li><li><p>Lưu trữ trong Lambda:</p><p><span style=font-size:1rem>+ Memory: 128 MB – 10,240 MB</span></p><p><span style=font-size:1rem>+ /tmp space: 512 MB</span></p><p><span style=font-size:1rem>+ Container image: tối đa 10 GB</span></p><p><span style=font-size:1rem>+ Có thể sử dụng Amazon S3 hoặc <a href=https://aws.amazon.com/vi/efs/>Amazon Elastic File System (Amazon EFS)</a> làm lưu trữ ngoài.</span></p></li><li><p>Khi tạo/cập nhật, Lambda sẽ lưu vào bộ nhớ đệm (cache) image để tăng tốc độ khởi động lạnh (cold start) của các hàm trong quá trình thực thi (execution). Khởi động lạnh xảy ra khi có yêu cầu ban đầu (initial request) gửi đến Lambda, điều này có thể dẫn đến thời gian khởi động lâu hơn. Yêu cầu đầu tiên sẽ duy trì một instance của hàm chỉ trong một khoảng thời gian ngắn. Nếu Lambda không được gọi trong khoảng thời gian đó, lần gọi tiếp theo sẽ tạo một instance mới.</p></li><li><p>Các chính sách vai trò phân quyền chi tiết (Fine-grained role policies) được khuyến nghị cao cho mục đích bảo mật.</p></li><li><p>Container images có thể dùng <strong><a href=https://docs.aws.amazon.com/lambda/latest/dg/runtimes-extensions-api.html>Lambda Extensions</a></strong> API để tích hợp monitoring, security và các công cụ khác với môi trường thực thi Lambda (Lambda execution environment).</p></li></ul><h2 id=kết-luận>Kết luận</h2><p>Chúng tôi đã có thể thiết kế kiến trúc (architect) lại dịch vụ đồng bộ (synchronous) này (vốn trước đây được triển khai trên các host dựa trên instance (instance-based hosts)) và thiết kế (design) nó để trở thành dịch vụ bất đồng bộ (asynchronous) trên Amazon Lambda.</p><p>Bằng cách sử dụng hỗ trợ mới cho container-based images trong Lambda và chuyển đổi workload của chúng tôi thành một kiến trúc bất đồng bộ dựa trên sự kiện (asynchronous event-based architecture), chúng tôi đã có thể khắc phục những thách thức sau:</p><ul><li><p><strong>Hiệu năng và bảo mật</strong>:Với các yêu cầu hàng loạt (batch requests), bạn có thể mở rộng quy mô (scale) các workload bất đồng bộ (asynchronous workloads) và xử lý các bản ghi lỗi (failure records) bằng cách sử dụng SQS Dead Letter Queues và Lambda destinations. Việc sử dụng Lambda để tích hợp với các dịch vụ khác (như EventBridge và SQS) và sử dụng Lambda roles giúp đơn giản hóa việc duy trì cấu trúc phân quyền chi tiết (granular). Khi Lambda sử dụng một Amazon SQS queue làm nguồn sự kiện (event source), nó có thể mở rộng quy mô (scale) lên đến 60 instance (instances) nữa mỗi phút, với tối đa 1.000 lời gọi đồng thời (concurrent invocations).</p></li><li><p><strong>Tối ưu chi phí</strong>: Tài nguyên tính toán là thành phần quan trọng trong bất kỳ kiến trúc ứng dụng nào. Việc cung cấp thừa (overprovisioning) tài nguyên tính toán và vận hành các tài nguyên nhàn rỗi (idle) có thể dẫn đến chi phí cao hơn. Vì Lambda là serverless, chi phí chỉ phát sinh khi bạn gọi một hàm (function) và dựa trên các tài nguyên được phân bổ (allocated) cho mỗi yêu cầu.</p></li></ul><hr><h2 id=về-tác-giả>Về tác giả</h2><div style="display:flex;align-items:center;gap:20px;border:1px solid #e0e0e0;border-radius:8px;padding:16px;background-color:#fff;max-width:900px"><img src=../../../images/blog2/brian_maguire.png alt="Brian Maguire" style=width:120px;height:auto;border-radius:6px;object-fit:cover><div style=flex:1><p style=margin:0><strong style=font-size:1.1rem;color:#0d1b2a>Elizabeth Fuentes</strong><br>Brian Maguire là Principal Solutions Architect tại Amazon Web Services, nơi anh tập trung giúp khách hàng xây dựng ý tưởng của họ trên đám mây. Anh là một technologist, writer, teacher và student yêu thích việc học hỏi. Brian là đồng tác giả của cuốn sách Scalable Data Streaming with Amazon Kinesis.</p></div></div><div style="display:flex;align-items:center;gap:20px;border:1px solid #e0e0e0;border-radius:8px;padding:16px;background-color:#fff;max-width:900px"><img src=../../../images/blog2/guy_bachar.png alt="Guy Bachar" style=width:120px;height:auto;border-radius:6px;object-fit:cover><div style=flex:1><p style=margin:0><strong style=font-size:1.1rem;color:#0d1b2a>Elizabeth Fuentes</strong><br>Guy là Senior Solutions Architect tại AWS. Anh chuyên hỗ trợ người dùng trong Capital Markets và FinTech với các hành trình chuyển đổi lên cloud. Chuyên môn của anh bao gồm quản lý Danh tính (Identity), bảo mật (security) và truyền thông hợp nhất (unified communication).</p></div></div><div style="display:flex;align-items:center;gap:20px;border:1px solid #e0e0e0;border-radius:8px;padding:16px;background-color:#fff;max-width:900px"><img src=../../../images/blog2/mike_boyar.png alt="Mike Boyar" style=width:120px;height:auto;border-radius:6px;object-fit:cover><div style=flex:1><p style=margin:0><strong style=font-size:1.1rem;color:#0d1b2a>Elizabeth Fuentes</strong><br>Mike Boyar là Solutions Architect tại AWS. Trong thời gian rảnh, anh thích nướng bánh mì kiểu French country.</p></div></div><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=../../../vi/3-blogstranslated/3.1-blog1/ title="Blog 1"><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=../../../vi/3-blogstranslated/3.3-blog3/ title="Blog 3" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=../../../js/clipboard.min.js?1765357123></script><script src=../../../js/perfect-scrollbar.min.js?1765357123></script><script src=../../../js/perfect-scrollbar.jquery.min.js?1765357123></script><script src=../../../js/jquery.sticky.js?1765357123></script><script src=../../../js/featherlight.min.js?1765357123></script><script src=../../../js/highlight.pack.js?1765357123></script><script>hljs.initHighlightingOnLoad()</script><script src=../../../js/modernizr.custom-3.6.0.js?1765357123></script><script src=../../../js/learn.js?1765357123></script><script src=../../../js/hugo-learn.js?1765357123></script><link href=../../../mermaid/mermaid.css?1765357123 rel=stylesheet><script src=../../../mermaid/mermaid.js?1765357123></script><script>mermaid.initialize({startOnLoad:!0})</script><script>(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,(e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date),(i=t.createElement(n),a=t.getElementsByTagName(n)[0]),i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-158079754-2","auto"),ga("send","pageview")</script></body></html>